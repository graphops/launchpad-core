# Repositories for Charts used for Releases in this namespace
repositories:
  - name: openebs
    url: https://openebs.github.io/charts
  - name: openebs-rawfile-localpv
    url: git+https://github.com/openebs/rawfile-localpv@deploy/charts?ref=0.8.0
  - name: openebs-monitoring
    url: https://openebs.github.io/monitoring/
  - name: graphops
    url: https://graphops.github.io/helm-charts

# Anchors for each default release definition, their default values, and any inner resources that are relevant
templates:
  launchpad-release-template-defaults: &launchpad-release-template-defaults
    namespace: storage
    missingFileHandler: Warn
  launchpad-release-template-openebs: &launchpad-release-template-openebs
    namespace: &template-default-storage-namespace-name storage
    chart: openebs/openebs
    version: 3.3.0
    valuesTemplate:
      - &launchpad-default-release-values-openebs {}

  launchpad-release-template-openebs-rawfile-localpv: &launchpad-release-template-openebs-rawfile-localpv
    <<: *launchpad-release-template-defaults
    chart: openebs-rawfile-localpv/rawfile-csi
    # version: 0.0.0 # Specify the version by pinning the git repo reference in repositories above
    valuesTemplate:
      - &launchpad-default-release-values-openebs-rawfile-localpv {}

  launchpad-release-template-openebs-rawfile-storageclass: &launchpad-release-template-openebs-rawfile-storageclass
    <<: *launchpad-release-template-defaults
    chart: graphops/resource-injector
    version: 0.1.0
    valuesTemplate:
      - &launchpad-default-release-values-openebs-rawfile-storageclass
        resources:
          - &launchpad-default-release-values-openebs-rawfile-storageclass-resource
            apiVersion: storage.k8s.io/v1
            kind: StorageClass
            metadata:
              name: openebs-rawfile
              annotations:
                storageclass.kubernetes.io/is-default-class: "true"
            volumeBindingMode: WaitForFirstConsumer
            provisioner: rawfile.csi.openebs.io
            parameters: {}

  launchpad-release-template-openebs-monitoring: &launchpad-release-template-openebs-monitoring
    <<: *launchpad-release-template-defaults
    chart: openebs-monitoring/openebs-monitoring
    version: 0.4.10
    valuesTemplate:
      - &launchpad-default-release-values-openebs-rawfile-localpv
        kube-prometheus-stack:
          install: false
        node-problem-detector:
          install: false
