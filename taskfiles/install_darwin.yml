version: '3'

env:
  PATH: "{{.PWD}}/bin:{{.PATH}}"

tasks:
  brew-status:
    interactive: true
    cmds: 
      - |
        if which brew ; then
          exit 0
        else
          echo -e "Brew is a prerequisite of this task. Pls refer to https://brew.sh/ for details"
          exit 1
        fi

  ansible:
      - brew install ansible

  helm:
    cmds:
      - brew install helm

  helmfile:
    cmds:
      - brew install helmfile

  kubectl:
    cmds:
      - brew install kubectl

  kubeseal:
    cmds:
      - brew install kubeseal

  jq:
    cmds:
      - brew install jq

  octant:
    cmds:
      - brew install octant

  k9s:
    cmds:
      - brew install k9s
  
  gum:
    cmds:
      - brew install gum

  helm-git:
    cmds:
      - helm plugin install https://github.com/aslafy-z/helm-git