# tasks that let you interact with the indexer for operational requirements
version: '3'

tasks:
  remote-toolbox:
    interactive: true
    cmds:
      - kubectl exec --tty --interactive xxxxxxx -- {{.CLI_ARGS}}

  forward-indexer-agent:
    cmds:
      - kubectl -n indexer port-forward service/service-name port:port

  forward-grafana:
    cmds:
      - kubectl -n monitoring --context $KUBECONTEXT port-forward service/kube-prometheus-stack-grafana 3001:80

  forward-erigon:
    cmds:
      - 

  forward-all:
    deps:
      - forward-indexer-agent
      - forward-grafana
      - forward-erigon
